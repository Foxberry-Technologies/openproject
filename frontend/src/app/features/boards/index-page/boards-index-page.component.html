<div class="toolbar-container">
  <div class="toolbar">
    <div class="title-container">
      <h2 [textContent]="text.boards"></h2>
    </div>
    <ul class="toolbar-items">
      <li *ngIf="canAdd"
          class="toolbar-item">
        <button
          class="button -alt-highlight"
          [title]="text.create_new_board"
          (click)="newBoard()"
          type="button"
        >
          <span class="spot-icon spot-icon_add"></span>
          <span [textContent]="text.board"></span>
        </button>
      </li>
    </ul>
  </div>
</div>

<div class="boards--listing-group loading-indicator--location"
     data-indicator-name="boards-module">
  <div *ngIf="(boards$ | async) as boards"
       class="generic-table--container">
    <div class="generic-table--results-container">
      <table class="generic-table">
        <colgroup>
          <col opHighlightCol>
          <col opHighlightCol>
          <col opHighlightCol>
          <col opHighlightCol>
          <col>
        </colgroup>
        <thead>
          <tr>
            <th>
              <div class="generic-table--sort-header-outer">
                <div class="generic-table--sort-header">
                 <span [textContent]="text.name">
                 </span>
                </div>
              </div>
            </th>
            <th>
              <div class="generic-table--sort-header-outer">
                <div class="generic-table--sort-header">
                 <span [textContent]="text.type">
                 </span>
                </div>
              </div>
            </th>
            <th>
              <div class="generic-table--sort-header-outer">
                <div class="generic-table--sort-header">
                 <span [textContent]="text.createdAt">
                 </span>
                </div>
              </div>
            </th>
            <th>
              <div class="generic-table--empty-header">
              </div>
            </th>
          </tr>
        </thead>
        <tbody>
        <tr *ngIf="boards.length === 0" id="empty-row-notification">
          <td colspan="4">
            <span>
              <span class="spot-icon spot-icon_info1"></span>
              <span>
                <strong [textContent]="text.noResults"></strong>
              </span>
            </span>
          </td>
        </tr>
        <tr *ngFor="let board of boards">
          <td
            class="name"
            data-qa-selector="boards-table-column--name"
          >
           <a [textContent]="board.name"
              uiSref="boards.partitioned.show"
              [uiParams]="{ board_id: board.id }">
           </a>
          </td>
          <td>
            <span *ngIf="board.isFree" [textContent]="text.type_free"></span>
            <span *ngIf="board.isAction" [textContent]="text.action_by_attribute(board.actionAttribute)"></span>
          </td>
          <td>
            <op-date-time [dateTimeValue]="board.createdAt"></op-date-time>
          </td>
          <td class="buttons">
            <button
              class="spot-link"
              type="button"
              (click)="destroyBoard(board)"
              [attr.title]="text.delete"
              [attr.aria-label]="text.delete"
            >
              <span class="spot-icon spot-icon_delete"></span>
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
